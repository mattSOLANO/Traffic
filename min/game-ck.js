function preload(){game.load.image("car","car.png"),game.load.image("stopLine","stopLine.png"),game.load.image("green","green.png"),game.load.spritesheet("light","lightSprite.png",20,20,2)}function create(){game.physics.startSystem(Phaser.Physics.ARCADE),game.stage.backgroundColor="#E8ECC7",game.stage.smoothed=!1,car=game.add.sprite(100,200,"car"),game.physics.arcade.enable(car),car2=game.add.sprite(0,200,"car"),game.physics.arcade.enable(car2),car.body.velocity.set(100,0),car2.body.velocity.set(100,0),stopLine=game.add.sprite(500,200,"stopLine"),light=game.add.button(550,200,"light",changeLight,this,0,0,0)}function update(){var e=stopLine.x-car.x;if(150>e&&e>38)if("stop"==lightState){var a=(stopLine.x-car.x)/100*100-38;car.body.velocity.set(a,0)}else"go"==lightState&&car.body.velocity.set(100,0);var t=car.x-car2.x;if(100>t&&t>38){var r=(car.x-car2.x)/100*100-38;car2.body.velocity.set(r,0)}else t>=100&&car2.body.velocity.set(100,0)}function changeLight(){"stop"==lightState?(lightState="go",light.setFrames(1,1,1)):"go"==lightState&&(lightState="stop",light.setFrames(0,0,0))}var game=new Phaser.Game(800,600,Phaser.AUTO,"phaser-example",{preload:preload,create:create,update:update}),car,car2,stopLine,light,lightState="stop";